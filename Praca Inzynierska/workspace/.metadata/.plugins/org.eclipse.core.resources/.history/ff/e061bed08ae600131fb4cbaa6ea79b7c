package main.parser.operators;
import main.parser.ExpressionParser;
import main.parser.exceptions.InvalidArgumentsException;
import main.parser.variables.VariableList;


/**
 * Class represents AbstractOperator that works on java objects
 * @author vilgefortz
 *
 */
public abstract class AbstractOperator {

	public static final int INFINITE_ARGUMENTS = -10000000;
	protected String name;
	public String getName() {
		return name;
	}
	public AbstractOperator (String name) {
		this.name = name;
	}
	public Object op (Object args [],ExpressionParser p,VariableList var)  throws InvalidArgumentsException {
		try {
			return fun (args,p,var);
		}
		catch (Exception e) {
			e.printStackTrace();
			throw new InvalidArgumentsException(name, args);
		}
	}
	/**
	 * Method represents function that this operator evaluate.
	 * @param args - list of objects that are used by this operator
	 * @param p - parser reference
	 * @param var - variables reference
	 * @return object as result of operator operation
	 * @throws Exception if any problem occurs
	 */
	public abstract Object fun (Object args [], ExpressionParser p, VariableList var) throws Exception;
	
	/**
	 * Method returns number of arguments that is needed by this operator.
	 * @return number of arguments
	 */
	public abstract int argNumber ();
	@Override
	public boolean equals(Object arg0) {
		return this.name.equalsIgnoreCase(((AbstractOperator)arg0).name);
	}
	/**
	 * Method checks wether this object is acceptable by operator or not. Method is used only for operators with set unlimited argument number.
	 * @param peek object to check
	 * @return true if argument is acceptable by unlinmited argument operator
	 */
	public boolean isAcceptableArgument(Object peek) {
		return true;
	}
}
